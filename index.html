<html><head><base href="." />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EduHack.pe - Login</title>
<style>
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background: #000000;
    color: white;
}

.container {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    padding: 2.5rem;
    border-radius: 16px;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    width: 90%;
    max-width: 400px;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    margin-bottom: 20px;
}

.activity-feed {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    padding: 1.5rem;
    border-radius: 16px;
    width: 90%;
    max-width: 400px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-top: 20px;
}

.activity-item {
    padding: 10px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    text-align: left;
    animation: fadeIn 0.5s ease-in;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.time {
    color: #ff69b4;
    text-shadow: 0 0 10px #ff69b4;
    font-weight: bold;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.window-controls {
    position: absolute;
    top: 15px;
    left: 15px;
    display: flex;
    gap: 8px;
}

.control {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: none;
}

.close { background: #ff5f56; }
.minimize { background: #ffbd2e; }
.maximize { background: #27c93f; }

.logo {
    font-size: 2.5em;
    margin-bottom: 2rem;
    margin-top: 1rem;
    font-weight: 600;
    color: #ffffff;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    letter-spacing: -0.5px;
}

.login-form {
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
}

input {
    padding: 1rem;
    border: none;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.08);
    color: white;
    font-size: 1rem;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

input::placeholder {
    color: rgba(255, 255, 255, 0.6);
}

input:focus {
    outline: none;
    background: rgba(255, 255, 255, 0.12);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

button {
    padding: 1rem;
    border: none;
    border-radius: 10px;
    background: #0071e3;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1rem;
    font-weight: 500;
}

button:hover {
    background: #0077ed;
    transform: translateY(-1px);
}

button:active {
    transform: translateY(1px);
}

.info-container {
    display: none;
    text-align: left;
}

.info-container h2 {
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    font-weight: 500;
    margin-top: 1rem;
}

.info-container p {
    margin: 0.8rem 0;
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.9);
}

.status-message {
    color: #00ca4e;
    margin-top: 1.5rem;
    font-style: italic;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
}

.progress-bar {
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    margin-top: 10px;
    overflow: hidden;
}

.progress {
    width: 70%;
    height: 100%;
    background: #00ca4e;
    box-shadow: 0 0 10px #00ca4e;
    border-radius: 2px;
    animation: loading 2s ease-in-out infinite;
    background: linear-gradient(90deg, #00ca4e, #4dff88);
}

@keyframes loading {
    0% {
        transform: translateX(-100%);
    }
    50% {
        transform: translateX(30%);
    }
    100% {
        transform: translateX(-100%);
    }
}

.satellite-container {
    display: none;
}

.pdf-form {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.pdf-form input, .pdf-form textarea {
    width: 100%;
    padding: 0.8rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.08);
    color: white;
    resize: vertical;
}

.pdf-form textarea {
    min-height: 100px;
}

.download-btn {
    background: #ff69b4;
    margin-top: 10px;
}

.download-btn:hover {
    background: #ff4da6;
}

@media (max-width: 480px) {
    .container, .activity-feed {
        width: 85%;
        padding: 2rem;
    }

    .logo {
        font-size: 2em;
    }

    input, button {
        padding: 0.9rem;
    }
    
    .window-controls {
        top: 12px;
        left: 12px;
    }
    
    .control {
        width: 10px;
        height: 10px;
    }
}
</style>
</head>
<body>
    <div class="container" id="loginContainer">
        <div class="window-controls">
            <div class="control close"></div>
            <div class="control minimize"></div>
            <div class="control maximize"></div>
        </div>
        <div class="logo">EduHack.pe</div>
        <form class="login-form" id="loginForm">
            <input type="email" placeholder="Usuario" required id="username" pattern=".*@hack\.pe$">
            <input type="password" placeholder="Contrase√±a" required id="password">
            <button type="submit">Iniciar Sesi√≥n</button>
        </form>
    </div>

    <div class="activity-feed" id="activityFeed"></div>

    <div class="container info-container" id="infoContainer">
        <div class="window-controls">
            <div class="control close"></div>
            <div class="control minimize"></div>
            <div class="control maximize"></div>
        </div>
        <h2>Informaci√≥n del Sistema</h2>
        <p>Pa√≠s: <span id="country"></span></p>
        <p>Hora: <span id="time"></span></p>
        <p>D√≠a: <span id="day"></span></p>
        <p>Fecha: <span id="date"></span></p>
        <p class="status-message">
            Estamos en un Break üò¥ Modificaci√≥n Subiendo 80% ...
            <div class="progress-bar">
                <div class="progress"></div>
            </div>
        </p>
        <form class="pdf-form">
            <h3>Generar Imagen</h3>
            <textarea id="phrase" placeholder="Ingresa tu frase"></textarea>
            <input type="hidden" id="pdfName" value="anonymous">
            <button class="download-btn" onclick="generateImage()">Generar y Descargar Imagen</button>
        </form>
    </div>
<script>
const nombres = [
    "Juan", "Mar√≠a", "Carlos", "Ana", "Luis", "Patricia", "Miguel", "Sofia", "Jos√©", "Carmen",
    "Pedro", "Laura", "Fernando", "Diana", "Ricardo", "Valentina", "Gabriel", "Andrea",
    "Alberto", "Rosa", "Manuel", "Victoria", "Daniel", "Isabel", "Francisco", "Elena",
    "Javier", "Monica", "Eduardo", "Claudia", "Raul", "Julia", "Jorge", "Lucia",
    "Alfonso", "Teresa", "Sebastian", "Paula", "Roberto", "Adriana", "Alejandro", "Beatriz",
    "Guillermo", "Carolina", "Adrian", "Daniela", "Hector", "Mariana", "Arturo", "Cecilia"
];

const apellidos = [
    "Garc√≠a", "Rodr√≠guez", "Martinez", "L√≥pez", "Gonz√°les", "P√©rez", "Torres", "S√°nchez",
    "Ram√≠rez", "Flores", "Rivera", "Gomez", "D√≠az", "Vargas", "Silva", "Castro",
    "Morales", "Ortiz", "Cruz", "Herrera", "Mendoza", "Ruiz", "Delgado", "Jim√©nez",
    "Vega", "Reyes", "Medina", "Ramos", "Romero", "Ch√°vez", "Vasquez", "Moreno",
    "Rojas", "Castillo", "Gutierrez", "Campos", "Cortez", "Aguirre", "Navarro", "Espinoza"
];

function generarRegistroAleatorio() {
    const nombre = nombres[Math.floor(Math.random() * nombres.length)];
    const apellido = apellidos[Math.floor(Math.random() * apellidos.length)];
    const hora = new Date().toLocaleTimeString();
    
    return {
        persona: `${nombre} ${apellido}`,
        tiempo: hora
    };
}

function actualizarActividad() {
    const feed = document.getElementById('activityFeed');
    const nuevoRegistro = document.createElement('div');
    nuevoRegistro.className = 'activity-item';
    const registro = generarRegistroAleatorio();
    
    nuevoRegistro.innerHTML = `
        <span>${registro.persona}</span>
        <span class="time">${registro.tiempo}</span>
    `;
    
    feed.insertBefore(nuevoRegistro, feed.firstChild);
    
    if (feed.children.length > 5) {
        feed.removeChild(feed.lastChild);
    }
}

setInterval(actualizarActividad, 3000);

for (let i = 0; i < 5; i++) {
    actualizarActividad();
}

document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    if(!username.endsWith('@hack.pe')) {
        alert('Solo se permiten correos con dominio @hack.pe');
        return;
    }
    
    if(username && password) {
        document.getElementById('loginContainer').style.display = 'none';
        document.getElementById('activityFeed').style.display = 'none';
        document.getElementById('infoContainer').style.display = 'block';
        
        fetch('https://ipapi.co/json/')
            .then(response => response.json())
            .then(data => {
                document.getElementById('country').textContent = data.country_name;
            })
            .catch(error => {
                document.getElementById('country').textContent = 'No disponible';
            });

        function updateDateTime() {
            const now = new Date();
            
            const days = ['Domingo', 'Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado'];
            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            
            document.getElementById('time').textContent = now.toLocaleTimeString();
            document.getElementById('day').textContent = days[now.getDay()];
            document.getElementById('date').textContent = `${now.getDate()} de ${months[now.getMonth()]} de ${now.getFullYear()}`;
        }

        updateDateTime();
        setInterval(updateDateTime, 1000);
    }
});

function generateImage() {
    const phrase = document.getElementById('phrase').value;
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    
    // Set canvas size
    canvas.width = 800;
    canvas.height = 1132;
    
    // Create loading indicator
    const downloadBtn = document.querySelector('.download-btn');
    const originalText = downloadBtn.textContent;
    downloadBtn.textContent = 'Generando...';
    downloadBtn.disabled = true;
    
    // Load background image with error handling
    const img = new Image();
    img.crossOrigin = "Anonymous";
    
    // Error handling for image load
    img.onerror = function() {
        console.error('Error loading image');
        downloadBtn.textContent = originalText;
        downloadBtn.disabled = false;
        alert('Error al generar la imagen. Por favor intente nuevamente.');
    };
    
    img.onload = function() {
        try {
            // Clear canvas first
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw background image
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            
            // Add semi-transparent black overlay for better text readability
            ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw title with shadow for better visibility
            ctx.shadowColor = 'black';
            ctx.shadowBlur = 15;
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            
            ctx.fillStyle = 'white';
            ctx.font = 'bold 60px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('¬°Aprobe Maldita!', canvas.width/2, 150);
            
            // Reset shadow
            ctx.shadowBlur = 0;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            
            // Draw user's phrase with word wrap
            ctx.font = '32px Arial';
            const maxWidth = canvas.width - 100;
            const lineHeight = 45;
            let y = canvas.height/2;
            
            // Handle empty phrase
            if (!phrase.trim()) {
                throw new Error('Frase vac√≠a');
            }
            
            // Word wrap function
            function wrapText(text, x, y, maxWidth, lineHeight) {
                const words = text.split(' ');
                let line = '';
                
                for(let n = 0; n < words.length; n++) {
                    const testLine = line + words[n] + ' ';
                    const metrics = ctx.measureText(testLine);
                    const testWidth = metrics.width;
                    
                    if (testWidth > maxWidth && n > 0) {
                        ctx.fillText(line, x, y);
                        line = words[n] + ' ';
                        y += lineHeight;
                    } else {
                        line = testLine;
                    }
                }
                ctx.fillText(line, x, y);
            }
            
            // Draw the wrapped text
            wrapText(phrase, canvas.width/2, y, maxWidth, lineHeight);
            
            // Convert to image and trigger download
            const dataURL = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = 'Aprobe-Maldita.png';
            link.href = dataURL;
            
            // Reset button state
            downloadBtn.textContent = originalText;
            downloadBtn.disabled = false;
            
            // Trigger download
            link.click();
            
        } catch (error) {
            console.error('Error generating image:', error);
            downloadBtn.textContent = originalText;
            downloadBtn.disabled = false;
            alert('Error al generar la imagen: ' + error.message);
        }
    };
    
    // Start loading the image
    img.src = 'https://i.ibb.co/sqqhKzV/32290c375b573be42a74a02a943ece37.jpg';
}

document.querySelector('.pdf-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const phrase = document.getElementById('phrase').value;
    if (!phrase.trim()) {
        alert('Por favor ingrese una frase');
        return;
    }
    generateImage();
});
</script>
</body></html>
